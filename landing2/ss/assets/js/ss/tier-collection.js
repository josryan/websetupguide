/*! For license information please see tier-collection.js.LICENSE.txt */
this.LIBRO=this.LIBRO||{},this.LIBRO.tierCollection=function(t){"use strict";function e(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)c.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return c}function r(){for(var t=[],r=0;r<arguments.length;r++)t=t.concat(e(arguments[r]));return t}function i(){for(var e,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];t.store.debug&&(e=t.logger.tag("tier-collection")).info.apply(e,r(i))}function n(){t.dom.equalHeights(".tier-card__price"),window.innerWidth>=850?t.dom.equalHeights(".tier-card__price"):t.dom.applyFunction(".tier-card__price",(function(t){return t.setAttribute("style","height: auto")}))}return t.store.once("SUBSCRIPTION_CONTENT",(function(e){i("Handling %s content: %s","SUBSCRIPTION_CONTENT",e);try{"tier-collection"in e&&(n=(r=e["tier-collection"]).find((function(t){return void 0===t._id})),o=r.filter((function(t){return void 0!==t._id})),c=r.some((function(t){return t.cta_action&&"switch"===t.cta_action})),t.updateGenericButton(".tier-collection .tier-card__column .tier-card__header",n),o.length>0&&o.forEach((function(e){return t.updateGenericButton('.tier-collection .tier-card__column[data-id="'+e._id+'"] .tier-card__header',e)})),c&&t.dom.addListener(".tier-collection .tier-card__header","click",(function(e){t.dom.isInside(e.target,'.button[data-action="switch"]')&&(e.preventDefault(),t.store.showSwitchLightbox())})))}catch(t){i(t)}var r,n,o,c})),n(),void window.addEventListener("resize",n)}(LIBRO.common);