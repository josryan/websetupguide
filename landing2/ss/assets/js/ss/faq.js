this.LIBRO=this.LIBRO||{},this.LIBRO.faq=function(t){"use strict";var a;function e(){for(var a,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.store.debug&&(a=t.logger.tag("faq")).info.apply(a,function(t,a,e){if(e||2===arguments.length)for(var n,o=0,i=a.length;o<i;o++)!n&&o in a||(n||(n=Array.prototype.slice.call(a,0,o)),n[o]=a[o]);return t.concat(n||Array.prototype.slice.call(a))}([],function(t,a){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var n,o,i=e.call(t),r=[];try{for(;(void 0===a||a-- >0)&&!(n=i.next()).done;)r.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return r}(e),!1))}function n(e){t.dom.applyFunction("#".concat(e," .").concat(a.TOGGLE),(function(a){t.dom.getElement(a,".faq__question").setAttribute("aria-expanded","false")}))}return function(t){t.CONTAINER=".faq",t.LIST_ITEM=".faq__list__item",t.ANSWER=".faq__answer",t.QUESTION=".faq__question",t.TOGGLE="faq__list__item--collapse"}(a||(a={})),t.dom.applyFunction(a.CONTAINER,(function(e,o){var i=t.dom.getElements(e,a.LIST_ITEM),r="faq".concat(o+1);if(e.id=r,function(e,n){var o=t.dom.getElements(e,"".concat(a.LIST_ITEM,", ").concat(a.QUESTION,", ").concat(a.ANSWER)),i="faqs".concat(n+1,"__");o.forEach((function(t){if(t.id="".concat(i).concat(t.id),t.id.includes("question")){var a=t.getAttribute("aria-controls");t.setAttribute("aria-controls","".concat(i).concat(a))}else if(t.id.includes("answer")){var e=t.getAttribute("aria-labelledby");t.setAttribute("aria-labelledby","".concat(i).concat(e))}}))}(e,o),i.length>0){var c=i[0];t.dom.addClass(i,a.TOGGLE),t.dom.removeClass(c,a.TOGGLE),t.dom.getElement(c,".faq__question").setAttribute("aria-expanded","true"),n(r)}})),t.dom.addListener(a.QUESTION,"click",(function(e){var o;e.preventDefault();var i=t.dom.getClosestParent(e.target,".faq__list__item"),r=t.dom.getClosestParent(e.target,".faq").id;t.dom.toggleClass(i,a.TOGGLE,!t.dom.hasClass(i,a.TOGGLE));var c=e.target.getAttribute("aria-expanded");e.target.setAttribute("aria-expanded","false"===c?"true":"false"),t.rapid.addRapid(((o={})[i.id]="faq",o)),t.dom.applyFunction("#".concat(r," ").concat(a.LIST_ITEM),(function(e){e.id!==i.id&&t.dom.addClass(e,a.TOGGLE)})),n(r)})),void t.store.once("PAGE_LOADED",(function(){e("Handling %s event","PAGE_LOADED");try{t.dom.applyFunction(a.CONTAINER,(function(e){var n,o=t.dom.getElements(e,a.LIST_ITEM)[0];t.rapid.addRapid(((n={})[o.id]="faq",n))}))}catch(t){e(t)}}))}(LIBRO.common);