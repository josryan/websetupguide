this.LIBRO=this.LIBRO||{},this.LIBRO.tiles=function(t){"use strict";var e;function i(){for(var e,i=[],n=0;n<arguments.length;n++)i[n]=arguments[n];t.store.debug&&(e=t.logger.tag("tiles")).info.apply(e,function(t,e,i){if(i||2===arguments.length)for(var n,o=0,r=e.length;o<r;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}([],function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var n,o,r=i.call(t),l=[];try{for(;(void 0===e||e-- >0)&&!(n=r.next()).done;)l.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}return l}(i),!1))}!function(t){t.BREAK_SMALL_MEDIA_QUERY="(min-width: 768px)"}(e||(e={}));var n=768;function o(){var e=t.dom.getElement('.tiles__tile[data-tile-index="1"]');if(e){var i=e.clientHeight+200;window.innerWidth<n?t.dom.applyFunction(".tiles__inner",(function(t){return t.setAttribute("style","height: "+i+"px")})):t.dom.applyFunction(".tiles__inner",(function(t){return t.setAttribute("style","height: auto")}))}}function r(){t.dom.equalHeights(".tiles__tile__footer__desc")}function l(e){t.dom.isInside(e.target,".button")||e.currentTarget.querySelector("a").click()}function a(e){var i=e.currentTarget,o=t.dom.getElement(i,".button");o&&window.innerWidth>=n&&(t.dom.addClass(i,"tiles__tile--hover"),t.dom.addClass(o,"button--hover"))}function d(e){var i=e.currentTarget,o=t.dom.getElement(i,".button");o&&window.innerWidth>=n&&(t.dom.removeClass(i,"tiles__tile--hover"),t.dom.removeClass(o,"button--hover"))}function s(){window.innerWidth<n?t.dom.addListener(".tiles__tile","click",c):t.dom.addListener(".tiles__tile",["click",l],["mouseenter",a],["mouseleave",d])}function c(e){var i,n=e.currentTarget,o=n.parentNode.childElementCount,r=Number(n.getAttribute("data-tile-index"));if(1!==r){for(var l=o;l>=1;l--)r!==l&&l<r&&t.dom.getElement(".tiles__tile[data-tile-index='"+l+"']").setAttribute("data-tile-index",l+1);n.setAttribute("data-tile-index",1),n.style.animation="none",n.offsetHeight,n.style.animation=null,t.dom.addClass(n,"tiles__tile--bringForward"),t.rapid.addRapid(((i={})[n.id]="tiles",i))}}function u(e){void 0===e&&(e=!1),t.dom.applyFunction(".tiles__tile",(function(i,n){var o="tiles__tile".concat(n+1);i.id=o,e&&t.rapid.initializeViewabilityTracking("#".concat(o),"tiles")}))}t.dom.getElement(".tiles")&&(t.dom.applyFunction(".tiles__tile",(function(t,e){return t.setAttribute("data-tile-index",String(e+1))})),s(),t.dom.addListener(window,["load",o],["resize",o]),t.dom.addListener(window,["load",r],["resize",r]),t.dom.addListener(window,"resize",t.dom.debounce((function(){t.dom.removeListener(".tiles__tile",["click",c],["click",l],["mouseenter",a],["mouseleave",d]),s()}),500)),t.store.on("MEDIA_QUERY_LIST_EVENT",(function(n){i("Handling %s content: %s","MEDIA_QUERY_LIST_EVENT",n);try{var o=n.matches;n.media===e.BREAK_SMALL_MEDIA_QUERY&&(o?u(!0):(u(),t.rapid.addRapid({tiles__tile1:"tiles"},!0)))}catch(t){i(t)}})),t.store.once("URL_DATA",(function(e){i("Handling %s content: %s","URL_DATA",e);try{t.dom.appendQueryParams(".tiles__tile .button","href",e)}catch(t){i(t)}})))}(LIBRO.common);