this.LIBRO=this.LIBRO||{},this.LIBRO.hero=function(t){"use strict";var n;function e(){for(var n,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];t.store.debug&&(n=t.logger.tag("hero")).info.apply(n,function(t,n,e){if(e||2===arguments.length)for(var o,r=0,i=n.length;r<i;r++)!o&&r in n||(o||(o=Array.prototype.slice.call(n,0,r)),o[r]=n[r]);return t.concat(o||Array.prototype.slice.call(n))}([],function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var o,r,i=e.call(t),a=[];try{for(;(void 0===n||n-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(t){r={error:t}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(r)throw r.error}}return a}(e),!1))}return function(t){t.DEV="dev",t.QA="qa",t.QA5="qa5",t.STAGE="stage",t.PROD="prod"}(n||(n={})),t.store.once("PAGE_LOADED",(function(){e("Handling % event","PAGE_LOADED");try{t.dom.applyFunction(".hero",(function(n){var e=n.parentElement.id;e&&t.rapid.initializeViewabilityTracking("#".concat(e),e)}))}catch(t){e(t)}})),t.store.once("URL_DATA",(function(n){e("Handling %s content: %s","URL_DATA",n);try{t.dom.appendQueryParams(".hero .button","href",n)}catch(t){e(t)}})),t.store.once("SUBSCRIPTION_CONTENT",(function(n){e("Handling %s content: %s","SUBSCRIPTION_CONTENT",n);try{"feature"in n&&function(n){t.updateGenericButton(".hero",n),n.cta_action&&t.dom.addListener(".hero","click",(function(n){t.dom.isInside(n.target,'.button[data-action="switch"]')&&(n.preventDefault(),t.store.showSwitchLightbox())}))}(n.feature)}catch(t){e(t)}})),t.store.once("USER_DATA",(function(n){e("Handling %s content: %s","USER_DATA",n);var o=n.isAuthenticated;t.displayHiddenDefaultContent(o,["hero--is-hidden"])})),void t.store.once("PAGE_LOADED",(function(){if(e("Handling % event","PAGE_LOADED"),t.dom.getElements(".hero .button--store--btn img").length>1){var n=function(){try{var t=navigator.userAgent||navigator.vendor;return/android/i.test(t)?"Android":/iPad|iPhone/.test(t)?"IOS":"unknown"}catch(t){throw new TypeError(t)}}(),o=t.dom.getElement('.hero .button--store--btn img[src*="app-store"]'),r=t.dom.getElement('.hero .button--store--btn img[src*="play-store"]');o&&r&&("IOS"===n&&t.dom.getParentElement(r).remove(),"Android"===n&&t.dom.getParentElement(o).remove())}}))}(LIBRO.common);