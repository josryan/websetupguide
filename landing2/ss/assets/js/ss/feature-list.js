this.LIBRO=this.LIBRO||{},this.LIBRO.featureList=function(t){"use strict";function e(){for(var e,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];t.store.debug&&(e=t.logger.tag("feature-list")).info.apply(e,function(t,e,i){if(i||2===arguments.length)for(var r,a=0,n=e.length;a<n;a++)!r&&a in e||(r||(r=Array.prototype.slice.call(e,0,a)),r[a]=e[a]);return t.concat(r||Array.prototype.slice.call(e))}([],function(t,e){var i="function"==typeof Symbol&&t[Symbol.iterator];if(!i)return t;var r,a,n=i.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(t){a={error:t}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(a)throw a.error}}return o}(i),!1))}function i(e){t.dom.removeClass(t.dom.getElements(e,".feature-list__item--is-active"),"feature-list__item--is-active"),n(e)}function r(){t.store.once("PAGE_LOADED",s),t.store.once("URL_DATA",o),t.dom.addListener(".feature-list","click",(function(e){if(t.dom.isInside(e.target,".feature-list__item__close"))return e.preventDefault(),void i(t.dom.getClosestParent(e.target,".feature-list"));var r,a,o,s,l;t.dom.isInside(e.target,".feature-list__item")&&(r=e.target,o=t.dom.getClosestParent(r,".feature-list"),s=t.dom.getClosestParent(r,".feature-list__item"),l=t.dom.getNodeIndex(s)+1,i(o),t.dom.addClass(s,"feature-list__item--is-active"),n(o),t.rapid.addRapid(((a={})["feature-list__item__body".concat(l)]="feature-list",a)))})),a(),window.addEventListener("resize",t.dom.throttle(a,10))}function a(){t.dom.applyFunction(".feature-list",(function(e){var i;i=e,t.dom.getElement(i,".feature-list__item--is-active .feature-list__item__body")||t.dom.addClass(t.dom.getElement(i,".feature-list__item:first-child"),"feature-list__item--is-active"),n(e)}))}function n(e){var i=t.dom.getElement(e,".feature-list__item--is-active .feature-list__item__body");i?e.setAttribute("style","min-height: ".concat(i.clientHeight,"px")):e.setAttribute("style","min-height: initial")}function o(i){e("Handling %s content: %s","URL_DATA",i);try{t.dom.appendQueryParams(".feature-list .button","href",i)}catch(t){e(t)}}function s(){e("Handling %s event","PAGE_LOADED");try{t.dom.applyFunction(".feature-list__item__body",(function(t,e){var i="feature-list__item__body".concat(e+1);t.id=i})),t.dom.applyFunction("feature-list__item__body1",(function(e){var i;t.rapid.addRapid(((i={})[e.id]="feature-list",i),!0)}))}catch(t){e(t)}}return r(),{init:r}}(LIBRO.common);